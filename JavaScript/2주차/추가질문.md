스터디에서 얘기가 나왔던 질문들과 제가 스터디원들의 글을 보면서 새로 알게 된 내용들을 정리하고자 합니다.

### 🙋🏻‍♀️ 타입 변환의 종류에는 어떤 것들이 있을까요?

저는 이 부분에 대해서는 조금 간과하고 있었는데 스터디원 분 중 한 분이 정리를 잘 해주셔서 같이 공유해보려고 해요.

타입 변환의 종류에는 크게 두 가지가 있습니다.

- 명시적 타입 변환(explicit coercion)
- 암묵적 타입 변환(implicit coercion)

참고로 coercion은 `강제`라는 뜻인데, 어떻게 보면 강제 타입 변환의 두 종류라고 할 수 있겠네요.

`명시적 타입 변환`이란 **개발자가 의도적으로 값의 타입을 변환하는 것**을 뜻합니다.

다른 말로 `타입 캐스팅(type casting)`이라고도 합니다.

반면에, `암묵적 타입 변환`이란 개발자의 의도와는 상관없이 **자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되는 것**을 의미합니다.

다른 말로 `타입 강제 변환(type coercion)`이라고도 해요.

예시를 통해서 알아볼게요.

```js
const score = 10;

//명시적 타입 변환입니다. 숫자를 문자열로 타입 캐스팅합니다.
const str = score.toString();
console.log(typeof str, str); // string 10

// score 변수 값이 변경 된 것은 아닙니다.
console.log(typeof score, score); // number 10
```

```js
const person = {
  name: "Jung Hee",
};
// 명시적 타입 변환입니다. 객체를 문자열로 타입 캐스팅합니다.
const str = JSON.stringify(person);

console.log(typeof str); //string
```

```js
const score = 10;

// 암묵적 타입 변환
// 문자열 연결 연산자 +는 숫자 타입 score의 값을 바탕으로 새로운 문자열을 생성합니다.
const str = score + "";

console.log(typeof str, str); //string 10

// score의 변수 값이 변경된 것은 아닙니다.
console.log(typeof score, score); // number 10
```

이에 대한 내용은 다음 챕터인 `타입 변환과 단축 평가`에서 더 자세히 알아볼게요!

<br>

### 🙋🏻‍♀️ 유사 배열 객체란 무엇인가요?

> 유사 배열 객체란 마치 배열처럼 인덱스로 프로퍼티 값에 접근할 수 있고 length 프로퍼티를 갖는 객체를 말합니다.

이에 비추어본다면, `문자열`도 유사 배열 객체이며 for문으로 순회도 가능합니다.

근데 조금 혼란스럽지 않나요? 분명 문자열은 원시 타입에 해당하고 원시타입은 객체 타입과 다르다고 배웠는데 갑자기 문자열도 객체라니? 🤔

이것은 문자열,숫자,불리언 값의 경우 이들 원시값에 대해서는 객체처럼 `마침표 표기법`으로 접근하면 자바스크립트 엔진이 **일시적으로 원시값을 연관된 객체로 변환**해주기 때문이랍니다.

원시값을 객체처럼 사용하면, 자바스크립트 엔진은 암묵적으로 연관된 객체를 생성하여 생성된 객체로 프로퍼티에 접근하거나 메서드를 호출하고 다시 원시값으로 되돌립니다.

이처럼 문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체를 **래퍼 객체 (wrapper object)** 라고 합니다.

예시를 들겠습니다.

```js
const str = "hello";

//원시 타입인 문자열이 래퍼 객체인 String 인스턴스로 반환된다.
console.log(str.length); //5
console.log(str.toUpperCase()); //HELLO

// 래퍼 객체로 프로퍼티에 접근하거나 메서드를 호출한 후, 다시 원시값으로 되돌린다.
console.log(typeof str); //string
```

참고로 `null`과 `undefined`는 래퍼 객체를 생성하지 않습니다. 따라서 null과 undefined 값을 객체처럼 사용하면 에러가 발생한답니다. :)

<br>

### 🙋🏻‍♀️ 표현식을 평가하여 값을 생성하는 것은 런타임 이전일까요? 런타임일까요?

### 🙋🏻‍♀️ let score = 100; 이것은 표현식일까요?

```js
let score = 100;
```

이렇게 선언문과 할당문이 같이 단축된 문에서는 어떻게 판단할까요?

선언문에는 좌항에 키워드가 들어가게 됩니다.

그래서 let score; 또는 let score = 100; 모두 표현식이 아니라 `문`입니다.

참고로 할당문은 표현식이고 문입니다.

예를 들어 score =100 또는 100 모두 표현식입니다.

### 🙋🏻‍♀️ 문자열 타입은 숫자 타입에 비해서 메모리 공간을 얼마나 확보하는건가요?

> ECMAScript 사양에 문자열타입은 한 글자에 `2바이트` 크기를 가진다고 규정되어있습니다.

문자열은 0개 이상의 문자로 이뤄진 집합을 말하며, 1개의 문자는 <u>2바이트 메모리</u> 에 공간에 저장됩니다.

그래서 문자열은 몇개의 문자로 이뤄졌느냐에 따라 필요한 메모리 공간의 크기가 결정됩니다.

숫자 값 1도, 10000도 동일한 8바이트가 필요합니다.

반면, 문자열의 경우 1개의 문자로 이뤄진 문자열은 2바이트, 10개의 문자로 이뤄진 문자열은 20바이트가 필요하게 되는 것입니다. (이는 단순 계산임을 유의해주세요)

### 🙋🏻‍♀️ !Hello의 결과 값은 왜 불리언으로 나오나요?

```js
!"Hello"; // false
```

논리 부정(!) 연산자는 <u>언제나 불리언 값을 반환</u>합니다.

만약 피연산자가 불리언 값이 아니면 불리언 타입으로 암묵적 타입 변환됩니다.

### 🙋🏻‍♀️ 리터럴도 값을 해석하여 생성하는 것일까요?

자바스크립트 엔진은 코드가 실행되는 시점인 런타임에 리터럴을 **평가해서** 값을 생성합니다.

```js
//숫자 리터럴 3
3;
```

3은 숫자 리터럴입니다. 사람이 이해할 수 있는 아라비아 숫자를 사용해 숫자 리터럴3을 코드에 기술하면 자바스크립트 엔진은 이를 **평가해** 숫자 값 3을 생성합니다.

### 🙋🏻‍♀️ 타입 추론(type inference)이란 무엇일까요?

> 타입이 결정된다는 뜻입니다.

자바스크립트 엔진은 변수의 선언이 아닌 할당에 의해서 타입이 결정됩니다.

다시 말하면, 변수에 할당되어 있는 값에 의해서 변수의 타입이 동적으로 결정된다고 말할 수 있습니다.

```js
let x = 3; // 변수 x의 타입은 3을 할당시에 number라고 결정(타입)됩니다.
```

### 🙋🏻‍♀️ if(x > 1){ return 100} 값을 리턴하는데도 표현식이 아닌 이유는 무엇일까?

```js
if (x > 1) {
  return 100;
}
```

저희는 값과 표현식이 동치이기 때문에, 값이 되면 표현식이라고 배웠습니다.

위의 예제는 값을 반환한다고 되어있는데 과연 표현식일까요?

아닙니다. 문입니다.

반환값을 가지고 있을 뿐 이 자체가 반환값이 될 수 없기 때문에 표현식이 아닙니다.
