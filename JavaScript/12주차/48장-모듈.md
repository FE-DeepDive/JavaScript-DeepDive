## ES6 λ¨λ“ (ESM)

### λ¨λ“ μ¤μ½”ν”„

μΌλ°μ μΈ μλ°”μ¤ν¬λ¦½νΈ νμΌμ€ script νƒκ·Έλ΅ λ¶„λ¦¬ν•΄μ„ λ΅λ“ν•΄λ„ λ…μμ μΈ λ¨λ“ μ¤μ½”ν”„λ¥Ό κ°–μ§€ μ•μµλ‹λ‹¤.

```html
<!DOCTYPE html>
<html lang="ko">
    <body>
        <script src="foo.js"></script>
        <script src="bar.js"></script>
    </body>
</html>
```

```js
// foo.js
// x λ³€μλ” μ „μ—­ λ³€μμ…λ‹λ‹¤.
var x = 'foo';
console.log(window.x); // foo
```

```js
// bar.js
// foo.jsμ—μ„ μ„ μ–Έν• μ „μ—­ λ³€μ xμ™€ μ¤‘λ³µλ μ„ μ–Έμ…λ‹λ‹¤.
var x = 'bar';

console.log(window.x); // bar
```

script νƒκ·Έλ΅ λ¶„λ¦¬ν•΄μ„ λ΅λ“λ 2κ°μ μλ°”μ¤ν¬λ¦½νΈ νμΌμ€ ν•λ‚μ μλ°”μ¤ν¬λ¦½νΈ νμΌ λ‚΄μ— μλ” κ²ƒμ²λΌ λ™μ‘ν•©λ‹λ‹¤.

μ¦‰ ν•λ‚μ μ „μ—­μ„ κ³µμ ν•λ” κ²ƒμ…λ‹λ‹¤.

μ΄λ ‡κ² λλ©΄ λ³€μμ κ°’μ΄ λ®μ–΄ μ”μ›μ§€κ² λλ” κ²½μ°κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.

ESMμ€ νμΌ μμ²΄μ λ…μμ μΈ λ¨λ“ μ¤μ½”ν”„λ¥Ό μ κ³µν•©λ‹λ‹¤.

```html
<!DOCTYPE html>
<html lang="ko">
    <body>
        <script type="module" src="foo.mjs"></script>
        <script type="module" src="bar.mjs"></script>
    </body>
</html>
```

```js
// foo.mjs
// x λ³€μλ” μ „μ—­ λ³€μκ°€ μ•„λ‹λ©° window κ°μ²΄μ ν”„λ΅νΌν‹°λ„ μ•„λ‹™λ‹λ‹¤.
var x = 'foo';
console.log(x); // foo
console.log(window.x); //  undefined
```

```js
// bar.mjs
// x λ³€μλ” μ „μ—­ λ³€μκ°€ μ•„λ‹λ©° window κ°μ²΄μ ν”„λ΅νΌν‹°λ„ μ•„λ‹™λ‹λ‹¤.
// foo.mjs μ„ μ–Έν• x λ³€μλ” μ¤μ½”ν”„κ°€ λ‹¤λ¥Έ λ³€μμ…λ‹λ‹¤.
var x = 'bar';
console.log(x); // bar
console.log(window.x); // undefined
```

<br>

### export ν‚¤μ›λ“

> λ¨λ“ λ‚΄λ¶€μ—μ„ μ„ μ–Έν• μ‹λ³„μλ¥Ό μ™Έλ¶€μ— κ³µκ°ν•μ—¬ λ‹¤λ¥Έ λ¨λ“λ“¤μ΄ μ¬μ‚¬μ©ν•  μ μκ² ν•λ” ν‚¤μ›λ“μ…λ‹λ‹¤.

export ν‚¤μ›λ“λ” λ³΄ν†µ μ„ μ–Έλ¬Έ μ•μ— μ‚¬μ©ν•©λ‹λ‹¤.

μ΄λ΅μ¨ λ³€μ, ν•¨μ, ν΄λμ¤ λ“± λ¨λ“  μ‹λ³„μλ¥Ό exportν•  μ μμµλ‹λ‹¤.

```js
// λ³€μμ κ³µκ°
export const pi = Math.PI;

// ν•¨μμ κ³µκ°
export function add(x) {
    return x + y;
}

// ν΄λμ¤μ κ³µκ°
export class Person {
    constructor(name) {
        this.name = name;
    }
}
```

exportν•  λ€μƒμ„ ν•λ‚μ κ°μ²΄λ΅ κµ¬μ„±ν•μ—¬ export ν•  μ μμµλ‹λ‹¤.

```js
const pi = Math.PI;

function add(x) {
    return x + y;
}

class Person {
    constructor(name) {
        this.name = name;
    }
}

// λ³€μ, ν•¨μ, ν΄λμ¤λ¥Ό ν•λ‚μ κ°μ²΄λ΅ κµ¬μ„±ν•μ—¬ κ³µκ°ν•©λ‹λ‹¤.
export { pi, add, Person };
```

λ¨λ“μ—μ„ ν•λ‚μ κ°’λ§ exportν•λ‹¤λ©΄ `default` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

(νμΌμ—μ„ λ‹¨ ν• λ²λ§ μ‚¬μ© κ°€λ¥)

```js
export default (a) => a + a;
```

default ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ” κ²½μ° var, let, const ν‚¤μ›λ“λ” μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤.

```js
export default const foo =() =>{}
// π«SyntaxError: Unexpected token 'export'
```

default ν‚¤μ›λ“μ™€ ν•¨κ» exportν• λ¨λ“μ€ {}μ—†μ΄ μ„μμ μ΄λ¦„μΌλ΅ import ν•  μ μμµλ‹λ‹¤.

```js
import add from './lib.mjs';

console.log(add(3)); // 6
```

<br>

### import ν‚¤μ›λ“

> λ‹¤λ¥Έ λ¨λ“μ—μ„ κ³µκ°ν• μ‹λ³„μλ¥Ό μμ‹ μ λ¨λ“ μ¤μ½”ν”„ λ‚΄λ¶€λ΅ λ΅λ“ν•λ” ν‚¤μ›λ“μ…λ‹λ‹¤.

λ‹¤λ¥Έ λ¨λ“μ΄ exportν• μ‹λ³„μ μ΄λ¦„μΌλ΅ import ν•΄μ•Όν•λ©° ESMμ κ²½μ° νμΌ ν™•μ¥μλ¥Ό μƒλµν•  μ μ—†μµλ‹λ‹¤.

```js
import { pi, add, Person } from './lib.mjs';
```

ν• λ²μ— import ν•  μλ„ μμµλ‹λ‹¤. (`*`μ‚¬μ©)

μ΄λ• importλλ” μ‹λ³„μλ” `as` λ’¤μ— μ§€μ •ν• μ΄λ¦„μ κ°μ²΄μ— ν”„λ΅νΌν‹°λ΅ ν• λ‹Ήλ©λ‹λ‹¤.

```js
import * as lib from ''./lib.mjs

console.log(lib.pi)
console.log(lib.add(10))
console.log(lib.Person('KIM'))
```
