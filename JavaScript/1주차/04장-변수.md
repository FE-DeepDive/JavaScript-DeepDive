변수에 대해서 고민해보신 적 있으신가요?
변수란 무엇이고 왜 필요한 걸까요? 이번 4장에서 같이 알아보아요 :)

### 📌04장 학습목표

- 변수가 무엇인고 왜 필요한지 설명할 수 있다.
- 식별자가 무엇인지 설명할 수 있다.
- 변수 선언이 무엇이고 선언 단계와 초기화 단계 두 가지를 나누어 설명할 수 있다.
- 변수 선언의 실행 시점과 호이스팅에 대해서 설명할 수 있다.
- 변수 선언의 시점과 값의 할당이 실행되는 시점이 어떻게 다른지 설명할 수 있다.
- 값을 재할당 하는 과정과 가비지 컬렉터의 역할에 대해서 설명할 수 있다.
- 식별자 네이밍 규칙에 대해 설명할 수 있다.

## 변수란 무엇인가? 왜 필요한가?

> 변수는 값을 저장하고 참조하는 메커니즘입니다.

변수가 필요한 이유부터 말씀드리면, 메모리에 저장된 값을 안전하게 접근하기 위함입니다.

그렇다면 여기서 질문이 생깁니다. 개발자가 변수를 쓰지 않고도 메모리에 안전하게 접근이 불가능한걸까요?

네. 변수를 쓰지 않고 메모리주소를 통해 직접 접근을 한다면 시스템이 멈출 위험이 있습니다.

이런 치명적인 오류를 방지하고자 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않습니다.

또한 만약 메모리 주소를 통해서 접근이 가능하더라도 문제입니다.

동일한 코드라도 실행될 때 메모리 주소가 계속 바뀌기 때문에, 메모리 주소를 통해서 직접 접근은 좋은 방식은 아닌 듯합니다.

그럼 어떻게 이를 해결할까요? 바로 메모리 공간에 상징적인 이름을 붙이는 방식을 통해서 해결했습니다. 이 메커니즘이 변수입니다.

아래의 예시를 통해서 변수와 관련된 개념을 익혀보아요.

```js
var result = 5 + 10;
```

```
변수 이름(명):
변수 값:
할당(assignment):
참조(reference):
```

## 식별자

> 어떤 값을 구별할 수 있게 만들어주는 고유한 이름입니다. => 변수명과 동의어.

여기서 중요한 점은 식별자는 값이 아니라 메모리 주소를 기억하고 있다는 점입니다.

다시 말하면, 식별자는 메모리에 주소에 붙인 이름이라고도 볼 수 있겠죠.

그렇다면 식별자인지 어떻게 컴퓨터가 인식하게 할까요?

자바스크립트에서는 선언(declaration)을 통해 식별자의 존재를 알립니다.

```js
var result = 5 + 10; // result가 식별자입니다.
```

## 변수 선언

> 변수 선언(declaration)은 변수를 생성하는 것을 의미합니다.

조금 더 정확히 얘기하자면.

1. 저장하기 위한 메모리 공간을 확보하고
2. 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 것입니다.

변수를 사용하려면 반드시 선언이 필요합니다. 변수를 선언할 때는 `var` `let` `const` 키워드를 사용합니다.

```js
var a; // 변수 선언.
```

```
✋여기서 잠깐

키워드란 무엇일까요?

키워드는 한마디로 자바스크립트 엔진이 수행할 동작을 규정한 명령어입니다.

자바스크립트 엔진은 키워드를 만나면 약속된 동작을 수행하게 된답니다.

가령, var 키워드를 만나면 뒤에 오는 변수 이름으로 새로운 변수를 선언하게 되는 것이지요.

ex) while, if, break 등

```

확보된 메모리 공간은 비어있을 것 같지만 사실은 `undefined`값이 암묵적으로 할당되어 초기화가 됩니다.

이것은 자바스크립트의 특징이기도 합니다만, 왜 이렇게 되는 걸까요?

그 이유는 var 키워드를 사용하면 선언 단계와 초기화 단계가 동시에 진행되기 때문입니다.

자바스크립트 엔진은 변수 선언을 다음과 같은 2가지 단계를 거쳐서 진행합니다.

- 선언 단계: 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알립니다.
- 초기화 단계: 값을 저장하기 위해 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화합니다.

아래의 예시를 보면서 설명해드리죠.

```js
var score;
```

선언 단계를 통해서 score를 등록하고, 초기화 단계를 통해 score 변수에 암묵적으로 undefined를 할당해 초기화를 진행합니다.

이렇게 초기화를 굳이 진행하는 이유는 뭘까요?

바로 확보된 메모리 공간에 이전에 사용했던 값이 남아있을 수 있기 때문입니다. 이를 쓰레기 값(garbage value)라고 합니다.

만약, 초기화를 진행해주지 않는다면 이런 쓰레기 값이 나올 수 있기 때문에 이를 방지하고자 `var`는 암묵적으로 초기화를 수행합니다.

```
✋여기서 잠깐

변수 이름은 어디에 등록이 될까?

모든 식별자는 실행 컨텍스트에 등록이 됩니다.

실행 컨텍스트는 자바스크립트 엔진이 소스코드를 평가하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역입니다.

자바스크립트 엔진은 실행 컨텍스트를 통해 식별자와 스코프를 관리하게 됩니다.

참고로 변수이름과 변수 값은 실행 컨텍스트 내에 key와 value 형식은 객체로 등록되어 관리됩니다.
```

## 변수 선언의 실행 시점과 변수 호이스팅

> 변수 선언은 런타임이 아니라 그 이전 단계에서 실행됩니다.

```js
console.log(a);

var a;
```

자바스크립트 엔진은 모든 선언문(변수 선언문, 함수 선언문 등)을 소스 코드에서 찾아내 먼저 실행합니다.

그리고 소스코드 평가 과정이 끝나면 비로소 **모든 선언문을 제외하고** 소스코드를 한줄씩 순차적으로 실행합니다.

위의 예제는 변수 선언(선언 단계, 초기화 단계 포함)이 런타임 이전 단계에서 실행된다는 증거입니다.

이처럼 선언문이 코드의 선두로 끌어올려진 것처럼 동작하는 자바스크립트 고유의 특징을 **호이스팅**이라고 합니다.

## 값의 할당

> 값을 저장한다와 동일한 의미입니다.

```js
//예제1
var score;
score = 60;
```

```js
//예제2
var score = 60;
```

위의 두 예제는 모두 동일하게 동작합니다.

자바스크립트는 변수 선언과 할당을 하나의 문으로 단축 표현해도 변수 선언과 값의 할당을 2개의 문으로 나누어 각각 실행하게 됩니다.

즉, 변수선언은 런타임 이전에 실행되지만, 값의 할당은 런타임에 실행된다는 점입니다.

다음 아래의 예제를 통해서 개념을 완전히 이해해보아요.

```js
console.log(score);

var score;
score = 60;

console.log(score);
```

```js
console.log(score);

score = 60;
var score;

console.log(score);
```

## 값의 재할당

> 재할당이란 이미 할당되어 있는 변수에 새로운 값을 다시 할당하는 것을 의미합니다.

```js
var score = 80;

score = 30;
```

- 변수: 저장된값을 다른 값으로 변경 가능합니다.
- 상수: 단 한 번만 할당할 수 있는 변수입니다. 저장된 값을 변경할 수 없습니다.

참고로, 재할당을 하였다고 하여서 메모리 공간에 있던 값을 지우고 새로 저장을 하는것은 아닙니다.

즉, 80을 지우고 30을 저장하는것이 아니라 아예 새로운 메모리 공간을 확보하고 그 메모리 공간에 30을 저장하는 것입니다.

80은 더이상 불필요하기에 가비지 콜렉터에 의해 메모리에서 자동으로 해제됩니다.

```
✋여기서 잠깐

가비지 콜렉터는 무엇일까요?

가비지 콜렉터는 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제하는 기능을 말합니다.

여기서 더 이상 사용되지 않는 메모리란 어떤 식별자도 참조하지 않는 메모리 공간을 의미합니다.

자바스크립트는 가비지 콜렉터를 내장하고 있는 매니지드 언어로서 메모리 누수를 방지합니다.

```

## 식별자 네이밍 규칙

- 식별자는 문자(특수문자 제외), 숫자, 언더스코어(\_), 달러 기호($)를 사용할 수 있습니다.
- 단 숫자로 처음에 시작할 수 없습니다.
- 또한 예약어는 식별자로 사용할 수 없습니다.

```js

var first-name; // (-) 사용 불가

var 1st; // 맨 앞에 숫자 사용 불가

var this; // 예약어 불가

```

참고로 변수 선언에 별도에 주석이 필요하다면 변수의 존재 목적을 명확히 드러내지 못하는 것입니다.

```js
var x = 3; //x 변수가 의미하는 바를 알 수 없기에 좋은 변수 선언이 아닙니다.

var score = 100; // score 변수는 점수를 의미합니다.
```

##### Naming Convention

ECMAScript 사양에 정의가 되어있듯이 일반적으로 변수나 함수의 이름에는 `카멜 케이스`를 사용합니다.

그리고 생성자 함수, 클래스의 이름에는 `파스칼 케이스`를 사용합니다.
